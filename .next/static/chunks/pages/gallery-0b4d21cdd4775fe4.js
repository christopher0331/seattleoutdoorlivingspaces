(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[214],{1748:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gallery",function(){return n(2931)}])},2931:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return v},default:function(){return x}});var a=n(7568),r=n(7582),o=n(5893),i=n(7294),c=n(7066),l=n(5675),s=n.n(l),u=n(827),_=n(4332),d=n(2023),m=n(3770),h=n.n(m),p=n(3449),y=n.n(p);function j(e){var t=e.project,n=e.onClose,a=(0,i.useState)(0),r=a[0],c=a[1],l=(0,i.useState)(0),u=l[0],m=l[1],h=(0,i.useState)(10),p=h[0],j=h[1];(0,i.useEffect)((function(){var e=Math.min(800+20*(t.images.length-10),.9*window.innerHeight);document.querySelector(".".concat(y().modalContent)).style.height="".concat(e,"px")}),[t.images.length]);return(0,o.jsx)(d.E.div,{className:y().modalOverlay,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,o.jsxs)(d.E.div,{className:y().modalContent,initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:[(0,o.jsxs)("h2",{className:y().projectTitle,children:["Project ",t.id]}),(0,o.jsx)("button",{onClick:n,className:y().closeButton,children:"Close"}),(0,o.jsxs)("div",{className:y().imageContainer,children:[(0,o.jsx)(_.M,{initial:!1,custom:u,children:(0,o.jsx)(d.E.div,{custom:u,variants:{enter:function(e){return{x:e>0?"100%":"-100%",opacity:0}},center:{x:0,opacity:1},exit:function(e){return{x:e<0?"100%":"-100%",opacity:0}}},initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"tween",duration:.3},opacity:{duration:.2}},className:y().imageWrapper,children:(0,o.jsx)(s(),{src:t.images[r].url,alt:"Project ".concat(t.id," image ").concat(r+1),layout:"fill",objectFit:"contain",className:y().projectImage})},r)}),(0,o.jsx)("button",{onClick:function(){m(-1),c((function(e){return 0===e?t.images.length-1:e-1}))},className:"".concat(y().navButton," ").concat(y().prevButton),children:"\u276e"}),(0,o.jsx)("button",{onClick:function(){m(1),c((function(e){return e===t.images.length-1?0:e+1}))},className:"".concat(y().navButton," ").concat(y().nextButton),children:"\u276f"})]}),(0,o.jsx)("div",{className:y().thumbnailGrid,children:t.images.slice(0,p).map((function(e,n){return(0,o.jsx)("div",{className:"".concat(y().thumbnailWrapper," ").concat(n===r?y().activeThumbnail:""),onClick:function(){m(n>r?1:-1),c(n)},children:(0,o.jsx)(s(),{src:e.url,alt:"Project ".concat(t.id," thumbnail ").concat(n+1),layout:"fill",objectFit:"cover"})},n)}))}),p<t.images.length&&(0,o.jsx)("button",{onClick:function(){j((function(e){return Math.min(e+10,t.images.length)}))},className:y().loadMoreButton,children:"Load More"})]})})}var f=n(4066),v=!0;function x(){var e=(0,i.useState)([]),t=e[0],n=e[1],l=(0,i.useState)([]),m=l[0],p=l[1],y=(0,i.useState)(null),v=y[0],x=y[1],g=(0,i.useState)(!0),C=g[0],M=g[1],N=(0,i.useState)(""),b=N[0],G=N[1],P=(0,i.useState)(8),w=P[0],B=P[1],S=(0,i.useState)(!1),E=S[0],k=S[1];(0,i.useEffect)((function(){var e=function(){k(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),(0,i.useEffect)((function(){var e=function(){var e=(0,a.Z)((function(){var e,t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,3,4]),[4,c.Z.get("/api/getProjects")];case 1:return e=a.sent(),n(e.data),p(e.data),[3,4];case 2:return t=a.sent(),console.log("error",t),[3,4];case 3:return M(!1),[7];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,i.useEffect)((function(){var e=t.filter((function(e){return e.name.toLowerCase().includes(b.toLowerCase())||e.description.toLowerCase().includes(b.toLowerCase())}));p(e),B(8)}),[b,t]);return(0,o.jsxs)("div",{className:h().galleryContainer,children:[(0,o.jsx)("h2",{className:h().galleryTitle,children:"Our Work"}),(0,o.jsxs)("div",{className:h().searchContainer,children:[(0,o.jsx)(f.U41,{className:h().searchIcon}),(0,o.jsx)("input",{type:"text",placeholder:"Search projects...",value:b,onChange:function(e){return G(e.target.value)},className:h().searchInput})]}),(0,o.jsx)(_.M,{children:C?(0,o.jsx)(d.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:h().loading,children:"Loading..."}):(0,o.jsx)(u.Z,{breakpointCols:{default:4,1100:3,700:2,500:1},className:h().myMasonryGrid,columnClassName:h().myMasonryGridColumn,children:m.slice(0,w).map((function(e){return(0,o.jsx)(d.E.div,{className:h().projectCard,whileHover:E?{}:{y:-10},initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},children:(0,o.jsxs)("div",{className:h().imageWrapper,children:[e.images.length>0&&(0,o.jsx)(s(),{src:e.images[0].url,alt:"".concat(e.name," thumbnail"),layout:"fill",objectFit:"cover",className:h().projectThumbnail}),(0,o.jsxs)("div",{className:"".concat(h().overlay," ").concat(E?h().mobileOverlay:""),children:[(0,o.jsx)("h3",{children:e.name}),(0,o.jsxs)("button",{onClick:function(){return function(e){x(e)}(e)},className:h().viewProjectButton,children:[(0,o.jsx)(f.dSq,{})," View Project"]})]})]})},e.id)}))})}),w<m.length&&(0,o.jsx)("button",{onClick:function(){B((function(e){return e+8}))},className:h().loadMoreButton,children:"Load More"}),v&&(0,o.jsx)(j,{project:v,onClose:function(){x(null)}})]})}},3770:function(e){e.exports={galleryContainer:"Gallery_galleryContainer__JORmz",galleryTitle:"Gallery_galleryTitle__Yv8xO",searchContainer:"Gallery_searchContainer__vJCca",searchIcon:"Gallery_searchIcon__55QND",searchInput:"Gallery_searchInput__aXEfA",myMasonryGrid:"Gallery_myMasonryGrid__z__nC",myMasonryGridColumn:"Gallery_myMasonryGridColumn__Au2a6",projectCard:"Gallery_projectCard__S6eQo",imageWrapper:"Gallery_imageWrapper__SPnP6",projectThumbnail:"Gallery_projectThumbnail__eeFFZ",overlay:"Gallery_overlay__rmeM_",viewProjectButton:"Gallery_viewProjectButton__oF6dL",loading:"Gallery_loading__hUZFU",loadMoreButton:"Gallery_loadMoreButton__GaVq_",mobileOverlay:"Gallery_mobileOverlay__VVN5J"}},3449:function(e){e.exports={modalOverlay:"ProjectModal_modalOverlay__gOjDO",modalContent:"ProjectModal_modalContent__kpfSk",projectTitle:"ProjectModal_projectTitle__nAbBM",closeButton:"ProjectModal_closeButton__ixKyz",imageContainer:"ProjectModal_imageContainer__BR_LW",imageWrapper:"ProjectModal_imageWrapper__JZih1",projectImage:"ProjectModal_projectImage__OB6cW",navButton:"ProjectModal_navButton__38xyQ",prevButton:"ProjectModal_prevButton__3__li",nextButton:"ProjectModal_nextButton__22OU0",thumbnailGrid:"ProjectModal_thumbnailGrid__yHoZH",thumbnailWrapper:"ProjectModal_thumbnailWrapper__T8lf_",activeThumbnail:"ProjectModal_activeThumbnail__WAu6f",loadMoreButton:"ProjectModal_loadMoreButton__bb4IM"}}},function(e){e.O(0,[229,264,774,888,179],(function(){return t=1748,e(e.s=t);var t}));var t=e.O();_N_E=t}]);